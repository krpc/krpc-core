# Verbose output
fetch --curses=no --show_progress_rate_limit=0
build --curses=no --show_progress_rate_limit=0 --verbose_failures
test --curses=no --show_progress_rate_limit=0 --verbose_failures

# Disable sandbox (already running in a container)
build --spawn_strategy=standalone --genrule_strategy=standalone
test --test_strategy=standalone

# Single threaded testing
test -j 1 --test_output=streamed

# Host and target configurations are identical
build --distinct_host_configuration=false

# Use JDK 8
build --java_toolchain=@bazel_tools//tools/jdk:toolchain_hostjdk8
test --java_toolchain=@bazel_tools//tools/jdk:toolchain_hostjdk8

# Workarounds for API changes in Bazel
test --legacy_bazel_java_test
build --incompatible_merge_genfiles_directory=false --incompatible_new_actions_api=false --incompatible_no_support_tools_in_action_inputs=false
